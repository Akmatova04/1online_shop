{# store/templates/store/base.html #}
{% load static %}
{% load i18n %}

<!DOCTYPE html>
<html lang="kg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    {# --- Google Fonts --- #}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

    {# --- –ù–µ–≥–∏–∑–≥–∏ CSS --- #}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    {# --- –ö–æ—à—É–º—á–∞ head —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä–∏ --- #}
    {% block extra_head %}{% endblock %}
</head>
<body>

    {# --- –°–∞–π—Ç—Ç—ã–Ω –ë–∞—à—ã (Header) --- #}
    <header>
        <nav class="main-nav">
            <div class="nav-container">
                <div class="logo">
                    <a href="{% url 'store:home' %}"> <span class="logo-part1">–ê–ó–´–ö</span><span class="logo-part2"> –î“Æ–ö”®–ù</span></a> {# –õ–æ–≥–æ—Ç–∏–ø–∫–µ —Å—Ç–∏–ª “Ø—á“Ø–Ω span –∫–æ—à—Ç—É–∫ #}
                </div>
                <div class="nav-links">
                    <a href="{% url 'store:home' %}" class="nav-item {% if request.resolver_match.url_name == 'home' %}active{% endif %}">
                        {% trans "–ë–∞—à–∫—ã –±–µ—Ç" %}
                    </a>
                    <a href="{% url 'store:cart_detail' %}" class="nav-item {% if request.resolver_match.url_name == 'cart_detail' %}active{% endif %}">
                        {% trans "–°–µ–±–µ—Ç" %}
                        {% if cart|length > 0 %}
                            <span class="cart-count">
                                {{ cart|length }}
                            </span>
                        {% endif %}
                    </a>
                    {% if user.is_authenticated %}
                        <a href="{% url 'store:profile' %}" class="nav-item {% if request.resolver_match.url_name == 'profile' %}active{% endif %}">
                             {% blocktrans with username=user.username %}–°–∞–ª–∞–º, {{ username }}{% endblocktrans %}
                        </a>
                        <form action="{% url 'logout' %}" method="post" style="display: inline; margin: 0; padding: 0;">
                            {% csrf_token %}
                            <button type="submit" class="nav-item">
                                {% trans "–ß—ã–≥—É—É" %}
                            </button>
                        </form>
                    {% else %}
                        <a href="{% url 'login' %}" class="nav-item {% if 'login' in request.path %}active{% endif %}">{% trans "–ö–∏—Ä“Ø“Ø" %}</a>
                        <a href="{% url 'store:signup' %}" class="nav-item {% if request.resolver_match.url_name == 'signup' %}active{% endif %}">{% trans "–ö–∞—Ç—Ç–∞–ª—É—É" %}</a>
                    {% endif %}
                </div>

                <div class="search-form-container">
                    <form method="get" action="{% url 'store:search_results' %}" >
                        <input type="text" name="q" placeholder="–¢–æ–≤–∞—Ä –∏–∑–¥”©”©..." required class="search-input">
                        <button type="submit" class="search-button">
                            –ò–∑–¥”©”©
                        </button>
                    </form>
                </div>

            </div>
        </nav>
    </header>
    {# --- –°–∞–π—Ç—Ç—ã–Ω –ë–∞—à—ã –ê—è–≥—ã --- #}


    {# --- –ù–µ–≥–∏–∑–≥–∏ –ú–∞–∑–º—É–Ω –ë”©–ª“Ø–º“Ø --- #}
    <main class="container">
        {# –ö–æ–ª–¥–æ–Ω—É—É—á—É–≥–∞ –±–∏–ª–¥–∏—Ä“Ø“Ø–ª”©—Ä (messages) “Ø—á“Ø–Ω –æ—Ä—É–Ω #}
        {% if messages %}
            <div class="messages-container" style="padding-top: 15px;"> {# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–¥–∏–Ω –∏—á–∏–Ω–¥–µ, –±–∏—Ä–æ–∫ –∫–æ–Ω—Ç–µ–Ω—Ç—Ç–µ–Ω –º—É—Ä—É–Ω #}
                <ul class="messages">
                     {% for message in messages %} <li class="{{ message.tags }}">{{ message }}</li> {% endfor %}
                </ul>
            </div>
        {% endif %}

        {% block content %}
            {# –ë–∞—à–∫–∞ —à–∞–±–ª–æ–Ω–¥–æ—Ä–¥—É–Ω –º–∞–∑–º—É–Ω—É –±—É–ª –∂–µ—Ä–≥–µ –∫–µ–ª–µ—Ç #}
        {% endblock %}
    </main>
    {# --- –ù–µ–≥–∏–∑–≥–∏ –ú–∞–∑–º—É–Ω –ê—è–≥—ã --- #}


    {# --- –°–∞–π—Ç—Ç—ã–Ω –¢”©–º”©–Ω–∫“Ø –ë”©–ª“Ø–≥“Ø (Footer) --- #}
    <footer>
       
        <nav>
            {# ----- üëáüëáüëá –®–ò–õ–¢–ï–ú–ï–õ–ï–† ”®–ó–ì”®–†–¢“Æ–õ–î“Æ üëáüëáüëá ----- #}
            <a href="{% url 'store:about' %}">{% trans "–ë–∏–∑ –∂”©–Ω“Ø–Ω–¥”©" %}</a> |
          
            {# --- –°–æ—Ü–∏–∞–ª–¥—ã–∫ —Ç–∞—Ä–º–∞–∫—Ç–∞—Ä --- #}
           
            <a href="https://wa.me/996990686854" target="_blank" rel="noopener noreferrer">WhatsApp</a> | {# –ù–æ–º–µ—Ä–∏“£–∏–∑ #}
            <a href="https://www.instagram.com/akmatova._.n/" target="_blank" rel="noopener noreferrer">Instagram</a> | {# Username #}
            <a href="https://t.me/–ê–∫–º–∞—Ç–æ–≤–∞ –ù–∞–∑–∏—Ä–∞" target="_blank" rel="noopener noreferrer">Telegram</a> {# Username #}
             {# ----- üëÜüëÜüëÜ -------------------------- üëÜüëÜüëÜ ----- #}
        </nav>
        <p>¬© {% now "Y" %} –ê–∑—ã–∫ –î“Ø–∫”©–Ω. {% trans "–ë–∞—Ä–¥—ã–∫ —É–∫—É–∫—Ç–∞—Ä –∫–æ—Ä–≥–æ–ª–≥–æ–Ω." %}</p>
    </footer>
    {# --- –°–∞–π—Ç—Ç—ã–Ω –¢”©–º”©–Ω–∫“Ø –ë”©–ª“Ø–≥“Ø –ê—è–≥—ã --- #}


    

</body>
</html>